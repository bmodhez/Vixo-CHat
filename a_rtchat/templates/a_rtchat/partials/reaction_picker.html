{% comment %}
Trigger placed beside the message bubble.
For UX: click '+' opens the emoji bar.
{% endcomment %}

<div class="relative">
    <button
        type="button"
        class="h-7 w-7 inline-flex items-center justify-center rounded-full border border-gray-800 bg-gray-900/60 text-gray-300 hover:bg-gray-800/60 hover:text-white transition-colors"
        aria-label="Add reaction"
        data-reaction-toggle
        data-message-id="{{ message.id }}">
        <span class="text-base leading-none">+</span>
    </button>

    <div class="hidden absolute bottom-full mb-2 right-0 items-center gap-1 rounded-full border border-gray-800 bg-gray-900/95 px-2 py-1 shadow-lg shadow-black/20"
         data-reaction-picker
         data-message-id="{{ message.id }}">
        {% for emoji in reaction_emojis %}
            <button
                type="button"
                class="h-8 w-8 inline-flex items-center justify-center rounded-full hover:bg-gray-800/60 transition-colors"
                data-react-emoji
                data-message-id="{{ message.id }}"
                data-emoji="{{ emoji }}">
                <span class="text-lg leading-none">{{ emoji }}</span>
            </button>
        {% endfor %}
    </div>
</div>
